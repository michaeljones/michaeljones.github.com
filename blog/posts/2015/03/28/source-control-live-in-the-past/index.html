<!DOCTYPE html>
<html lang="en">
<head>
        <meta charset="utf-8" />
        <title>Source Control: Live in the Past</title>
        <link href='http://fonts.googleapis.com/css?family=Oswald:300' rel='stylesheet' type='text/css'>
        <link href="http://michaeljones.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="michael jones | dev blog Atom Feed" />

            <link rel="stylesheet" href="http://michaeljones.github.io/blog/theme/css/main.css?52d7fe13">

        <link rel="stylesheet" href="http://michaeljones.github.io/blog/theme/css/custom.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner">
                <span id="header-title" class="body">
                    <a href="http://michaeljones.github.io/blog/">michael jones | dev blog </a>
                </span>
                <!--
                <nav>
                    <ul>
                            <li class="active"><a href="http://michaeljones.github.io/blog/category/article.html">article</a></li>
                            <li><a href="http://michaeljones.github.io/blog/category/blog.html">blog</a></li>
                            <li><a href="http://michaeljones.github.io/blog/category/journal.html">journal</a></li>
                            <li><a href="http://michaeljones.github.io/blog/category/links.html">links</a></li>
                            <li><a href="http://michaeljones.github.io/blog/category/video.html">video</a></li>
                    </ul>
                </nav>
                -->
        </header><!-- /#banner -->
        <section>
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="http://michaeljones.github.io/blog/posts/2015/03/28/source-control-live-in-the-past/" rel="bookmark"
           title="Permalink to Source Control: Live in the Past">Source Control: Live in the Past</a></h1>
    </header>

    <div class="entry-content">
<section class="post-info">
        <abbr class="published" title="2015-03-28T00:00:00">
                Sat 28 March 2015
        </abbr>

        <address class="vcard author">
                by <a class="url fn" href="http://michaeljones.github.io/blog/author/michael-jones.html">Michael Jones</a>
        </address>
</p>
<p>tags: <a href="http://michaeljones.github.io/blog/tag/git.html">git</a></p>
</section><!-- /.post-info -->      <p>I am going to propose that there are two broad ways of using source control and
that developers generally fall into one camp or the other. The two ways are:</p>
<ul>
<li><p class="first">Viewing source control as a kind of back up mechanism like making regular
copies of your project. Useful in case you screw up your current code base as
you can to go back and recover a reasonable state of the code.</p>
<p>What is important about these back ups is that they exist and that the latest
one is recent enough that restoring from it isn't going to be a massive pain.</p>
<p>This view is living in the present.</p>
</li>
<li><p class="first">Viewing source control as the story of your project with a feeling that the
whole story is required for full understanding. The major events and the minor
details of the past are important if not quite as important as the current
state of the code.</p>
<p>This view is living in the past.</p>
</li>
</ul>
<p>I identify more with the second view and sometimes struggle when working with
developers from the first group.</p>
<div class="section" id="symptoms-of-living-in-the-present">
<h2>Symptoms of Living in the Present</h2>
<p>These are the symptoms I see of living in the present in a source control sense:</p>
<ol class="arabic">
<li><p class="first"><strong>Weak commit messages</strong></p>
<p>If you only really value the current state of your code base then commit
messages have no meaning. Why carefully document the last back up you made?
Back up services don't do that. They timestamp the back ups so that you know
which is the latest. Backups should be automatic and in the background. Don't
ask me for a commit message.</p>
<p>And this shows in commit messages from these developers. They become cursory
and dismissive. Sometimes only one word or a few, sometimes only referencing
a ticket with no further explanation <a class="footnote-reference" href="#id3" id="id1">[1]</a>.</p>
</li>
<li><p class="first"><strong>Commiting commented out code</strong></p>
<p>If the commit history is out of the picture then it isn't a safe place for
code that might be useful some day. Best not delete the code, but instead
comment it out so that it is available for future developers <a class="footnote-reference" href="#id4" id="id2">[2]</a>.</p>
</li>
<li><p class="first"><strong>Commiting debug code</strong></p>
<p>If the current state of the code base is all that matters then the diff with
the previous state is not relevant. You've made your changes and it works so
commit them and move on.</p>
<p>It can lead to you commiting print statements and debug code as you don't
check over the diff you are creating in your commit.</p>
</li>
<li><p class="first"><strong>Messy branching history</strong></p>
<p>Again, if history doesn't matter then why pay any attention to how you are
interacting with it. Pull the latest code and run whatever commands you have
to to get to a point where you can push you code back. What matters is your
code and the changes you've made not what else you might have pulled in.</p>
</li>
</ol>
</div>
<div class="section" id="personal-experience">
<h2>Personal Experience</h2>
<p>I used to work in the present as it were. For at least a year or so, I worked
with centralised source control systems and didn't pay much attention to the
history of the project. I was new to the tools and was learning my way around
the core commands and I didn't get far beyond <tt class="docutils literal">update</tt> and <tt class="docutils literal">commit</tt>.</p>
<p>I think that a strong influence was the lack of easy branching centralised
version control systems. If you're never branching then <tt class="docutils literal">update</tt> and
<tt class="docutils literal">commit</tt> might be all you really need to know. The cutting edge of the project
development is a point, not an 'edge' at all. You only have to be aware of that
one state because that is the only place where development was going on. The
<tt class="docutils literal">update</tt> command got you the latest changes and <tt class="docutils literal">commit</tt> sent yours back.</p>
<p>The world changed a little for me when shifting to git. First the easy branching
meant numerous local branches for different features &amp; bug fixes which called
for better visualisation. A single thread of development doesn't need to be
visualised but in multiple threads everything is relative. You know the changes
you've made but when and where? How are they going to be combined again? I began
to rely on <tt class="docutils literal">gitk</tt> as a quick and simple viewer for the state of my repository.
I used it to track my branches but what it showed me was the history. There it
was laid out before me; an extra dimension that I hadn't looked at before.</p>
<p>Suddenly your collorators' changes aren't just a bump to <tt class="docutils literal">update</tt> over, they
are visible individual commits with diffs &amp; messages. A timeline of progress and
reason which can be read and understood.</p>
<p>Only if they don't have terrible commit messages. You start looking at diffs and
wanting to know why those changes are being made. Diffs rarely make much sense
without context and those messages provide a change to understand and to learn.</p>
<p>So now I live in the past. Gitk is my home.</p>
</div>
<div class="section" id="symptoms-of-living-in-the-past">
<h2>Symptoms of Living in the Past</h2>
<p>I'll attempt to provide a little balance. Obviously I feel there are good
symptoms of living in the past. Namely the opposite of those I've listed above,
clean history, cleaner commits and better commit messages, but there is a bad
one as well.</p>
<ol class="arabic">
<li><p class="first"><strong>Endlessly massaging commits</strong></p>
<p>I love git's interactive rebase command because it allows me to develop
without thinking of a clean history and then clean it up afterwards. My
coding doesn't lose momentum to worrying about modular commits with good
messages and my co-workers don't suffer because I can clean up my mess before
they see it.</p>
<p>Unfortunately, if I'm not careful I can end up cleaning up for a long time.
Once the code is working I can then be stuck rebasing and writing clean
commits for up to an hour in the rare worst case scenario. Such bulky history
editing can sometimes introduce bugs if there are conflicts during rebasing
that are resolved with due care and attention.</p>
<p>This is a price I'm willing to pay on these occaisions but it is a price none
the less.</p>
</li>
</ol>
</div>
<div class="section" id="conclusion">
<h2>Conclusion</h2>
<p>Consider your development practices. Do you think in terms of your project
history? Do your commits leave a trail that your collaborators can easily
follow? Or are they out of sight and out of mind?</p>
<p>Consider finding a program like gitk and keeping it open as much as possible.
When you pull in work from your colleagues have a glance through and see if you
can follow their steps and understand what they've done and why they've done it.</p>
<p>When writing commits messages, consider keeping the current diff to hand and
making sure that your commit message explains why you are making these changes
in a way which covers everything you can see in the diff.</p>
<table class="docutils footnote" frame="void" id="id3" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>My personal experience with this kind of thinking is my memory of my
early confused days working with RCS. For commit messages in RCS you had to
enter a '.' on a new line to finish the message. I approached this as 'you
have to enter a dot on a new line to make it go away.' It was like learning
the key I had to press to get past this thing that was blocking my progress.
The purpose of the step didn't cross my mind.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[2]</a></td><td><p class="first">I am a little sympathetic towards this though I don't agree with it as a
practice. If I see some code that needs to be improved in some way I don't
scan the entire history of that part of the code in source control to see
possible past attempts that might need to be resurrected.</p>
<p class="last">That said, I think the middle ground here is to leave a comment documenting
previous approaches so that future developers know to look back if they
decide something similar is needed once more.</p>
</td></tr>
</tbody>
</table>
</div>

    </div><!-- /.entry-content -->

  </article>
</section>
        </section>
        <section id="extras" class="body">
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="http://michaeljones.github.io/blog/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

</body>
</html>